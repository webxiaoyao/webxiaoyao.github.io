<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>疫苗查询</title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<style>
		*{
			font-size: 40px
		}
	</style>
</head>
<body>
	<p>本位码:<input type="text" id="number" style="width: 600px" oninput="query()"><button type="button" onclick="reset()" style="margin-left: 10px">重置</button></p>
	<p>查询结果</p>
	<div id="has-result" style="display: none">
		<p>GJYPBSM: <span style="color: red" id="result"></span></p>
		<p>YPTYMC: <span style="color: red" id="result2"></span></p>
	</div>
	<div id="no-result" style="display: none">暂无结果</div>
	<script src="data.js"></script>
	<script>
		console.log(json)
		function query() {
			var result
			var number = document.getElementById('number').value.substring(0, 7)
			var resultT = document.getElementById('result')
			var resultT2 = document.getElementById('result2')
			for(var i = 0; i < json.length; i ++) {
				if (json[i].YPBSM === number) {
					result = json[i]
					break
				}
			}
			if(result) {
				resultT.innerHTML = result.GJYPBSM
				resultT2.innerHTML = result.YPTYMC
				document.getElementById('has-result').style.display = 'block'
				document.getElementById('no-result').style.display = 'none'
			} else {
				resultT.innerHTML = ''
				resultT2.innerHTML = ''
				document.getElementById('has-result').style.display = 'none'
				document.getElementById('no-result').style.display = 'block'
			}
		}
		function reset() {
			document.getElementById('number').value = ''
			query()
		}
	</script>
</body>
</html>